# prefect/prefect.yaml

version: 2.0

deployments:
  - name: gadgetgrove-spark-pipeline
    version: 1.0.0
    entrypoint: event_pipeline.py:run_pipeline
    work_pool:
      name: "default-agent-pool"
    schedule:
      interval: 120 # every 2 minutes
    parameters: {}
    tags: [etl, gadgetgrove, spark]

  - name: gadgetgrove-dbt-pipeline
    version: 1.0.0
    entrypoint: event_pipeline.py:run_dbt_transform
    work_pool:
      name: "default-agent-pool"
    schedule:
      interval: 120 # every 2 minutes
    parameters: {}
    tags: [etl, gadgetgrove, dbt]
